<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tambola</title>
<link href="https://fast.fonts.net/cssapi/2c60fe91-a562-4bae-95b2-bf205160a5dd.css" rel="stylesheet" />
<style>
@keyframes gradient{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}
body{font-family: 'Uncle Oscar W05 Regular';background:linear-gradient(-45deg,#ee7752,#e73c7e,#23a6d5,#23d5ab);background-size:400% 400%;margin: 0;padding:0;min-height: 100%;animation: gradient 10s infinite;}
.main{padding-top: 100px;padding:80px 50px 30px;}
table{margin:0 auto;font-size: 30px;color:#fff;background:linear-gradient(-45deg,#23d5ab, #23a6d5, #e73c7e, #ee7752);font-family: 'Uncle Oscar W05 Regular';width:100%;border:1px #fff solid;border-collapse: collapse;}
table td{border:1px #fff solid;width:50px;text-align: center;vertical-align: center;}
table .is-active{background:rgba(0,0,0,0.5);; color:#23d5ab;text-decoration:line-through;}
.player{opacity:0;position:fixed;bottom:-200px;}
.actions{position:fixed;right:90px;bottom:20px;width:50px;height:50px;cursor:pointer;position:fixed;}
.actions.is-refresh{right:20px;opacity: 0.2;}
.actions.is-muted{opacity: 0.2;}
.actions svg {width:100%;height:100%; fill:#fff;}
.btn{width:300px;cursor:pointer;padding: 10px;outline:0;border-radius:6px;font-size: 30px;color:#23a6d5;background:#fff;font-family: 'Uncle Oscar W05 Regular';box-shadow: 0 0 2px#fff;border:0;}
.btn:active{box-shadow: inset 0 0 6px#000;}
.is-disabled{color:#fff;pointer-events:none;background:linear-gradient(-45deg,#23d5ab, #23a6d5, #e73c7e, #ee7752);background-size:200% 200%;animation: gradient 1s infinite;box-shadow: inset 0 0 6px #000;}
.generator{display:flex;margin-bottom: 20px;justify-content: space-between;}
.number{background:rgb(9,132,110, 0.6);width:300px;margin-left:20px;box-shadow:inset 0 0 2px #fff;text-align:center;font-size: 40px;color:#fff;}
</style>
</head>
<body>
	<div class="main">
        <div class="generator">
            <button onclick="generate()" class="btn is-disabled" id="generator">Generate Number</button>
            <div class="number" id="numbox">-</div>
        </div>
        <table class="table">
            <tr>
            <td id="cell1">1</td>
            <td id="cell2">2</td>
            <td id="cell3">3</td>
            <td id="cell4">4</td>
            <td id="cell5">5</td>
            <td id="cell6">6</td>
            <td id="cell7">7</td>
            <td id="cell8">8</td>
            <td id="cell9">9</td>
           <td id="cell10">10</td>
            </tr><tr>
            
            <td id="cell11">11</td>
            <td id="cell12">12</td>
            <td id="cell13">13</td>
            <td id="cell14">14</td>
            <td id="cell15">15</td>
            <td id="cell16">16</td>
            <td id="cell17">17</td>
            <td id="cell18">18</td>
           <td id="cell19">19</td>
            <td id="cell20">20</td>
            </tr><tr>
            
            <td id="cell21">21</td>
            <td id="cell22">22</td>
            <td id="cell23">23</td>
            <td id="cell24">24</td>
            <td id="cell25">25</td>
            <td id="cell26">26</td>
            <td id="cell27">27</td>
            <td id="cell28">28</td>
            <td id="cell29">29</td>
            <td id="cell30">30</td>
            
            </tr><tr>
            
            <td id="cell31">31</td>
            <td id="cell32">32</td>
            <td id="cell33">33</td>
            <td id="cell34">34</td>
            <td id="cell35">35</td>
            <td id="cell36">36</td>
            <td id="cell37">37</td>
            <td id="cell38">38</td>
            <td id="cell39">39</td>
            <td id="cell40">40</td>
            </tr><tr>
            
            <td id="cell41">41</td>
            <td id="cell42">42</td>
            <td id="cell43">43</td>
            <td id="cell44">44</td>
            <td id="cell45">45</td>
            <td id="cell46">46</td>
            <td id="cell47">47</td>
            <td id="cell48">48</td>
            <td id="cell49">49</td>
            <td id="cell50">50</td>
            </tr><tr>
            
            <td id="cell51">51</td>
            <td id="cell52">52</td>
            <td id="cell53">53</td>
            <td id="cell54">54</td>
            <td id="cell55">55</td>
            <td id="cell56">56</td>
            <td id="cell57">57</td>
            <td id="cell58">58</td>
            <td id="cell59">59</td>
            <td id="cell60">60</td>
            </tr><tr>
            
            <td id="cell61">61</td>
            <td id="cell62">62</td>
            <td id="cell63">63</td>
            <td id="cell64">64</td>
            <td id="cell65">65</td>
            <td id="cell66">66</td>
            <td id="cell67">67</td>
            <td id="cell68">68</td>
            <td id="cell69">69</td>
            <td id="cell70">70</td>
            </tr><tr>
            
            <td id="cell71">71</td>
            <td id="cell72">72</td>
           <td id="cell73">73</td>
            <td id="cell74">74</td>
            <td id="cell75">75</td>
            <td id="cell76">76</td>
            <td id="cell77">77</td>
            <td id="cell78">78</td>
            <td id="cell79">79</td>
            <td id="cell80">80</td>
            </tr><tr>
             
            <td id="cell81">81</td>
            <td id="cell82">82</td>
            <td id="cell83">83</td>
            <td id="cell84">84</td>
            <td id="cell85">85</td>
            <td id="cell86">86</td>
            <td id="cell87">87</td>
            <td id="cell88">88</td>
            <td id="cell89">89</td>
            <td id="cell90">90</td>
            </tr>
            
            </td>
            </tr>
            </table>
    </div>
    <div class="actions is-muted" id="muteunmute">
        <svg viewBox="0 0 480 480"><path d="M278.944 17.577c-5.568-2.656-12.128-1.952-16.928 1.92L106.368 144.009H32c-17.632 0-32 14.368-32 32v128c0 17.664 14.368 32 32 32h74.368l155.616 124.512A16.158 16.158 0 00272 464.009c2.368 0 4.736-.544 6.944-1.6a15.968 15.968 0 009.056-14.4v-416a16.05 16.05 0 00-9.056-14.432zM368.992 126.857c-6.304-6.208-16.416-6.112-22.624.128-6.208 6.304-6.144 16.416.128 22.656C370.688 173.513 384 205.609 384 240.009s-13.312 66.496-37.504 90.368c-6.272 6.176-6.336 16.32-.128 22.624a15.943 15.943 0 0011.36 4.736c4.064 0 8.128-1.536 11.264-4.64C399.328 323.241 416 283.049 416 240.009s-16.672-83.232-47.008-113.152z"/><path d="M414.144 81.769c-6.304-6.24-16.416-6.176-22.656.096-6.208 6.272-6.144 16.416.096 22.624C427.968 140.553 448 188.681 448 240.009s-20.032 99.424-56.416 135.488c-6.24 6.24-6.304 16.384-.096 22.656 3.168 3.136 7.264 4.704 11.36 4.704 4.064 0 8.16-1.536 11.296-4.64C456.64 356.137 480 299.945 480 240.009s-23.36-116.128-65.856-158.24z"/></svg>
    </div>
    <div class="actions is-refresh" id="refresh">
        <svg viewBox="0 0 341.333 341.333"><path d="M341.227 149.333V0l-50.133 50.133C260.267 19.2 217.707 0 170.56 0 76.267 0 .107 76.373.107 170.667s76.16 170.667 170.453 170.667c79.467 0 146.027-54.4 164.907-128h-44.373c-17.6 49.707-64.747 85.333-120.533 85.333-70.72 0-128-57.28-128-128s57.28-128 128-128c35.307 0 66.987 14.72 90.133 37.867l-68.8 68.8h149.333z"/></svg>
    </div>
    <audio id="audioclip" class="player" preload="auto" muted>
    </audio>
    <script>
        let audioFiles = [
            "1.mp3",
            "2.mp3",
            "3.mp3",
            "4.mp3",
            "5.mp3",
            "6.mp3",
            "7.mp3",
            "8.mp3",
            "9.mp3",
            "10.mp3",
            "11.mp3",
            "12.mp3",
            "13.mp3",
            "14.mp3",
            "15.mp3",
            "16.mp3",
            "17.mp3",
            "18.mp3",
            "19.mp3",
            "20.mp3",
            "21.mp3",
            "22.mp3",
            "23.mp3",
            "24.mp3",
            "25.mp3",
            "26.mp3",
            "27.mp3",
            "28.mp3",
            "29.mp3",
            "30.mp3",
            "31.mp3",
            "32.mp3",
            "33.mp3",
            "34.mp3",
            "35.mp3",
            "36.mp3",
            "37.mp3",
            "38.mp3",
            "39.mp3",
            "40.mp3",
            "41.mp3",
            "42.mp3",
            "43.mp3",
            "44.mp3",
            "45.mp3",
            "46.mp3",
            "47.mp3",
            "48.mp3",
            "49.mp3",
            "50.mp3",
            "51.mp3",
            "52.mp3",
            "53.mp3",
            "54.mp3",
            "55.mp3",
            "56.mp3",
            "57.mp3",
            "58.mp3",
            "59.mp3",
            "60.mp3",
            "61.mp3",
            "62.mp3",
            "63.mp3",
            "64.mp3",
            "65.mp3",
            "66.mp3",
            "67.mp3",
            "68.mp3",
            "69.mp3",
            "70.mp3",
            "71.mp3",
            "72.mp3",
            "73.mp3",
            "74.mp3",
            "75.mp3"
        ];

        function preloadAudio(url) {
            let audio = new Audio();
            audio.addEventListener('canplaythrough', loadedAudio, false);
            audio.src = url;
        }

        let loaded = 0;
        function loadedAudio() {
            loaded++;
        }

        let numBox = document.getElementById('numbox');

        var player = document.getElementById('audioclip');
            
        let speaker = document.getElementById('muteunmute');
        let refresh = document.getElementById('refresh');
        speaker.addEventListener('click', function(){
            speaker.classList.toggle('is-muted');
            document.getElementById('generator').classList.remove('is-disabled');
            player.muted = !player.muted;
            if(loaded != audioFiles.length) {
                for (let i in audioFiles) {
                    preloadAudio(audioFiles[i]);
                }
            }
        });

        refresh.addEventListener('click', function(){
            for (let i in selectedNumbers) {
               document.getElementById('cell'+selectedNumbers[i]).classList.remove('is-active');
            }
            counter = 0;
            selectedNumbers = [];
            localStorage.removeItem('checked');
            numBox.textContent = '-';
        });

        function play(index) {
            player.src = audioFiles[index];
            player.play();
        }


        let counter=0;
        let selectedNumbers = [];
        if(localStorage.checked) {
            selectedNumbers = JSON.parse(localStorage.checked);
            counter = selectedNumbers.length;
            for (let i in selectedNumbers) {
               document.getElementById('cell'+selectedNumbers[i]).classList.add('is-active');
            }
            numBox.textContent = selectedNumbers[selectedNumbers.length-1];
        }

        function generateRandom() {
            let min = 1;
            let max = 75;
            let random = Math.floor(Math.random() * (max - min + 1)) + min;
            return random;
        }
        let interval = '';
        function animateText() {
            interval = setInterval(function () {
                let num = generateRandom();
                numBox.textContent = num;
            }, 300);
        }
        function generate(){
            document.getElementById('generator').classList.add('is-disabled');
            animateText();
            if(counter==84){
            alert("All the numbers have been generated");
            return;
            }
            let random = generateRandom();
            while (selectedNumbers.indexOf(random) > -1) {
                random = bingo.generateRandom();
            }
            play(random);
            player.onended = function() {
                document.getElementById('cell'+random).classList.add('is-active');
                document.getElementById('generator').classList.remove('is-disabled');
                clearInterval(interval);
                selectedNumbers.push(random);
                localStorage.setItem("checked", JSON.stringify(selectedNumbers));
                numBox.textContent = random;
            };
            counter++;
        }
        
        
    </script>
</body>
</html>